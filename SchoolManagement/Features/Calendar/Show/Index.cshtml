@using Model.Auth
@using SchoolManagement.Features.Shared
@using SchoolManagement.Infrastructure.Identity

@(await Html.PartialAsync("_title", new TitleViewModel("Kalendarz")))
<div class="row">
    <div class="col">
        <div class="card shadow mb-4">
            <div class="card-header py-3">
                <h6 class="m-0 font-weight-bold text-primary"> Dane szczegółowe</h6>
            </div>
            <div class="card-body">
                <div id="calendar" class="bg-white"></div>
            </div>
        </div>
    </div>
</div>

@section Scripts
{
  
    <script>
        var option = {
            eventUrl: '@Url.Action("LoadClasses")',
            presenceAtDayUrl: '@Url.Action("GetPresenceOnDay","Presences")',
            userCanSeePresence: @(User.HasPermissionClaim(Permissions.Presence.ShowPresence) ? "true" : "false"),
            updateClassTimeUrl: '@Url.Action("ChangeClassDate")'
        }
        app.calendar.show.init(option);
    </script>
}
